<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="This is custom made Coding Ninjas production link checker written in php.">
    <link rel="icon" type="image/png" sizes="16x16" href="images/cn.png">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900" rel='stylesheet' type='text/css'>
    <title>Review | Production Link</title>
    <!-- Vendor styles 
    <link rel="stylesheet" href="vendor/fontawesome/css/font-awesome.css"/>
    <link rel="stylesheet" href="vendor/animate.css/animate.css"/>-->
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.css"/>
</head>
<!-- Body-->
<body class="back-row-toggle splat-toggle">

    <section class="content">
        <div class="col-md-12">
            <h10 id="time" style="text-align: left; font-size: 0.5em;"></h10>
            <div class="panel panel-filled">
                <div class="panel-body">
                    <div>
                        <div class="col-lg-12">
                        </div><br>
                        <center>
                            <textarea maxlength="14500000000000" id="list" placeholder="" class="form-control" style="resize: none;outline: none; width: 80%;height:150px;"></textarea>
                            <br>
                            <button type="button" id="start_test" onclick="submit()" class="btn btn-outline-primary">Start</button>&nbsp;
                            <button type="button" onclick="stop()" id="stop_test" class="btn btn-outline-dark">Stop</button>
                            <br><br>
                            <small>
                                <span class="bagde badge-pill badge-light"><strong>STATUS</strong></span>
                                &nbsp;REVIEWED&nbsp;<span id="cDead" class="badge badge-primary">0</span>&nbsp;LOADED&nbsp;<span id="loaded" class="badge badge-dark">0</span>
                            </small>
                        </center>
                        <br>
                    </div>
                    <button type="button" id="showdec" onclick="changed_state('bodedec');" class="btn btn-primary">Reviewed&nbsp;<span id="cDead2">0</span></button>
                    <div id="bodedec" style="display:block;">
                        <span id=".declined" class="declined"></span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.js" type="text/javascript"></script>
    
    <script title="CHECKER AJAX">
        function submit() {
            var line = $("#list").val();
            var send = line.split("\n");
            var total = send.length;
            var rev = 0;
            send.forEach(function(value, index) {
                setTimeout(function() {
                    $.ajax({
                        url: 'code/code.php?list=' + value,
                        type: 'GET',
                        async: true,
                        success: function(output) {
                                removeline();
                                rev++;
                                reviewed(output + "");

                            $('#cDead').html(rev);

                            $('#loaded').html(total);

                            $('#cDead2').html(rev);
                        }
                    });
                }, 100 * index);
            });
        }
        function reviewed(str) {
            $(".declined").append(str + "<br>");
        }
        function removeline() {
            var lines = $("#list").val().split('\n');
            lines.splice(0, 1);
            $("#list").val(lines.join("\n"));
        }
    </script>
    <script type="text/javascript">
        function changed_state(el) {
            var display = document.getElementById(el).style.display;
            if (display === "none")
                document.getElementById(el).style.display = 'block';
            else
                document.getElementById(el).style.display = 'none';
        }

    </script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.11/js/mdb.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        var myVar = setInterval(function() {
            myTimer()
        }, 1000);
        function myTimer() {
            var d = new Date();
            document.getElementById("time").innerHTML = d;
        }
    </script>
    <style>
        ::-webkit-input-placeholder {
            text-align: center;
        }
        :-moz-placeholder {
            text-align: center;
        }
        ::-moz-placeholder {
            text-align: center;
        }
        :-ms-input-placeholder {
            text-align: center;
        }
        ::-webkit-scrollbar {
            width: 2px;
            height: 2px;
            background-color: #3a3c46;
        }
        ::-webkit-scrollbar-track {
            border-radius: 30px;
            -webkit-box-shadow: inset 0 0 6px #3b3c46;
            background-color: #3b3c46;
        }
        ::-webkit-scrollbar-thumb {
            border-radius: 30px;
            background-color: #949ba2;
        }
    </style>
</body>
</html>